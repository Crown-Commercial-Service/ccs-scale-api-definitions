components:
  schemas:
  
    CatalogueID:
      type: number
      format: integer
      example: 1234
      readOnly: true
      
    Catalogue:
      allOf:
        - $ref: 'https://raw.githubusercontent.com/Crown-Commercial-Service/ccs-scale-api-definitions/master/common/OCDS_Schema.yaml#/components/schemas/Item'
        
    CatalogueList:
      type: array
      items:
        $ref: '#/components/schemas/CatalogueID'
        
    ProdID:  #To be consistent this should be ProductID
      type: number
      format: integer
      example: 1234
      readOnly: true
      
    Product:
      allOf:
        - $ref: 'https://raw.githubusercontent.com/Crown-Commercial-Service/ccs-scale-api-definitions/master/common/OCDS_Schema.yaml#/components/schemas/Item'
        
    ProductList:
      type: array
      items:
        $ref: '#/components/schemas/Product'
  
    VariantID:
      type: number
      format: integer
      example: 1234
      readOnly: true
      
    Variant:
      allOf:
        - $ref: 'https://raw.githubusercontent.com/Crown-Commercial-Service/ccs-scale-api-definitions/master/common/OCDS_Schema.yaml#/components/schemas/Item'
        
    VariantList:
      type: array
      items:
        $ref: '#/components/schemas/Product'
        
    
    StockItem:
      type: object
      description: Items of stock
      required:
        - id
        - quantity
      properties: 
        id:  
          type: string
          readOnly: true
          format: uuid
          description: 'ID of the stock item'
          example: 222
        variant:  
          $ref: '#/components/schemas/VariantID'
        product:  
          $ref: '#/components/schemas/ProductID'
        location:
          type: object
          description: location of the stock
            properties:
              address:
                $ref: 'https://raw.githubusercontent.com/Crown-Commercial-Service/ccs-scale-api-definitions/master/common/OCDS_Schema.yaml#/components/schemas/Address'
        quantity:
          type: number
          format: int32
          description: 'Quantity of stock available'
          example: 222
        
    StockList:
      type: array
      items:
        $ref: '#/components/schemas/StockItem'
        
        
        
    Cart:
      type: object
      description: Generic object for shopping cart which is used as the base for the various objects through the process
      required:
        - owner
      properties:
        owner:
          oneOf:
            - $ref: 'https://raw.githubusercontent.com/Crown-Commercial-Service/ccs-scale-api-definitions/master/common/OCDS_Schema.yaml#/components/schemas/ContactPoint'
            - $ref: 'https://raw.githubusercontent.com/Crown-Commercial-Service/ccs-scale-api-definitions/master/common/OCDS_Schema.yaml#/components/schemas/Organization'
        
        
    LineItem:
      allOf:
        # OCDS Item is id, description, classification, additionalClassifications, quantity, unit
        # Classification is scheme, id, description, uri - see https://standard.open-contracting.org/latest/en/schema/codelists/#item-classification-scheme - we will probably use UNSPSC but specific scheme is to be determined. Note that this classification is different to Spree's Taxon.
       - $ref:  'https://raw.githubusercontent.com/Crown-Commercial-Service/ccs-scale-api-definitions/master/common/OCDS_Schema.yaml#/components/schemas/Item'
       - type: object
         # All of the other properties required for a Marketplace Basket item 